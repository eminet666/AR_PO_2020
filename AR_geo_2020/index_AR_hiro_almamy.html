<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <title>PO 2020 _ ensaama _ AR Geo _ test Hiro</title>
		<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
		<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.7.7/aframe/build/aframe-ar.js"></script>
		<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>

		<script>
				AFRAME.registerComponent('loaded', {
						init: function () {
							var el = this.el;
							el.addEventListener('model-loaded', () => {
									console.log(el.id+" chargÃ©");
								});
							this.el.addEventListener('model-error', () => {
									// Grab the mesh / scene.
									console.log("erreur");
								});
							}
				});
		</script>
	</head>

  <body style='margin : 0px; overflow: hidden;'>

		<a-scene embedded
						 arjs='trackingMethod: best;debugUIEnabled: false; '
						 gltf-model="dracoDecoderPath: ./draco/;">

			<a-assets>
				<a-asset-item id="glbModel1" src="./models/ok_almamy_frelon1.glb"></a-asset-item>
				<a-asset-item id="glbModel2" src="./models/ok_almamy_frelon2.glb"></a-asset-item>
				<a-asset-item id="glbModel3" src="./models/ok_almamy_frelon3.glb"></a-asset-item>
				<a-asset-item id="glbModel4" src="./models/ok_almamy_ruche.glb"></a-asset-item>
			</a-assets>

			<a-marker preset="hiro">

					<a-entity   id ="modele1"
											scale="0.1 0.1 0.1"
											position="0 0 0"
											rotation="180 0 0"
											loaded
											animation-mixer
											gltf-model="#glbModel1">
					 </a-entity>

					 <a-entity   id ="modele2"
 											scale="0.1 0.1 0.1"
 											position="0 0 0"
 											rotation="180 0 0"
 											loaded
 											animation-mixer
 											gltf-model="#glbModel2">
 					 </a-entity>

					 <a-entity   id ="modele3"
											 scale="0.1 0.1 0.1"
											 position="0 0 0"
											 rotation="180 0 0"
											 loaded
											 animation-mixer
											 gltf-model="#glbModel3">
						</a-entity>

						<a-entity   id ="modele4"
												scale="0.5 0.5 0.5"
												position="0 0 0"
												rotation="-90 0 0"
												loaded
												animation-mixer
												gltf-model="#glbModel4">
						 </a-entity>


			</a-marker>

				<a-entity camera></a-entity>
    </a-scene>

  </body>
</html>
